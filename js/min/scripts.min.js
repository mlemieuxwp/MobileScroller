!function(n){"use strict";n.fn.idle=function(e){var t,i,o={idle:6e4,events:"mousemove keydown mousedown touchstart",onIdle:function(){},onActive:function(){},onHide:function(){},onShow:function(){},keepTracking:!0,startAtIdle:!1,recurIdleCall:!1},c=e.startAtIdle||!1,d=!e.startAtIdle||!0,l=n.extend({},o,e),u=null;return n(this).on("idle:stop",{},function(e){n(this).off(l.events),l.keepTracking=!1,t(u,l)}),t=function(n,e){return c&&(e.onActive.call(),c=!1),clearTimeout(n),e.keepTracking?i(e):void 0},i=function(n){var e,t=n.recurIdleCall?setInterval:setTimeout;return e=t(function(){c=!0,n.onIdle.call()},n.idle)},this.each(function(){u=i(l),n(this).on(l.events,function(n){u=t(u,l)}),(l.onShow||l.onHide)&&n(document).on("visibilitychange webkitvisibilitychange mozvisibilitychange msvisibilitychange",function(){document.hidden||document.webkitHidden||document.mozHidden||document.msHidden?d&&(d=!1,l.onHide.call()):d||(d=!0,l.onShow.call())})})}}(top.jQuery);
var ScrollSpeedMonitor=function(t){function n(n){e=n,top.window.addEventListener("scroll",function(n){n.preventDefault();var o=t(this).scrollTop();n.timeStamp=(new Date).getTime(),i(n.timeStamp,o)},!0),t(top.window).scroll(function(n){var o=t(this).scrollTop();n.timeStamp=(new Date).getTime(),i(n.timeStamp,o)}),t(top.window).on("touchstart",function(n){console.log(n.touches);var o=t(this).scrollTop();i(n.timeStamp,o)})}function i(t,n){if(a+r.thisMinimumTrackingDelayInMs<=t){var i=Math.abs(n-s),c=o(n),l=t-a,u=i/l;u>0&&e(u,t,c),a=t}}function o(t){var n=s;return s=t,n>-1?n>=t?"up":"down":"unknown"}var e,r=this,a=-1,s=-1;return this.thisMinimumTrackingDelayInMs=25,n}(top.jQuery);
!function(e){var i=18e4;e(document).idle({onIdle:function(){var i=e("#fade-scroll-wrapper");i.is(":visible")||(i.css("opacity",1),i.fadeIn(1500))},idle:i})}(top.jQuery);
var StarScroller=function(e,n,i){function t(n,t){m.jQueryElement=i(t),j=new ScrollSpeedMonitor(function(n,t,s){p!=s&&(m.jQueryElement.removeClass("up down").addClass(s),p=s);var r=m.jQueryElement.is(":visible");if(r&&l(),m.requiredSpeedInPxPerMs<=n){c(t);var a=t-h;h>-1&&a>m.requiredScrollTimeInMs&&(r||(u(),l(),m.jQueryElement.show(),i(e).scroll(function(){o(p)})))}else c(t,!0)})}function o(n){var i=(S-e.pageYOffset)/S,t=.02;i>=0&&m.jQueryElement.css("opacity")<1&&m.jQueryElement.css("opacity",Number(m.jQueryElement.css("opacity"))+t)}function s(){i("#fade-scroll-sm").slideUp("slow",function(){i("#fade-scroll-big").slideDown("slow"),m.jQueryElement.css("opacity",1)})}function l(){null!=v&&(e.clearTimeout(v),v=null),v=e.setTimeout(function(){a()},m.timeoutInMs)}function c(e,n){(-1==h||n)&&(h=e)}function r(){}function u(){null==y&&(y=e.setInterval(function(){r()},m.animationSpeedInMs))}function a(){h=-1}function f(){i("#fade-scroll-big").animate({height:"60px"},function(){i(this).addClass("js-fade-scroll-sm"),i(this).css("cursor","pointer")})}function d(){i("#fade-scroll-big").animate({height:"150px"},function(){i(this).removeClass("js-fade-scroll-sm"),i(this).css("cursor","")})}var m=this,p="unknown",h=-1,j=null,v=null,y=null,S=i(n).height();return this.animationSpeedInMs=50,this.animationStepInPx=10,this.requiredScrollTimeInMs=100,this.requiredSpeedInPxPerMs=2,this.timeoutInMs=125,i(n).on("click",".js-fade-scroll-click",function(n){n.preventDefault(),e.open(clickThru)}),i(n).on("click","div#fade-scroll-sm",function(e){e.preventDefault(),s()}),i(n).on("click","div#fade-scroll-close",function(e){f()}),i(n).on("click",".js-fade-scroll-sm",function(e){d()}),t}(top.window,top.document,top.jQuery);