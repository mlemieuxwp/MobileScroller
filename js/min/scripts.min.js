!function(n){"use strict";n.fn.idle=function(e){var t,i,o={idle:6e4,events:"mousemove keydown mousedown touchstart",onIdle:function(){},onActive:function(){},onHide:function(){},onShow:function(){},keepTracking:!0,startAtIdle:!1,recurIdleCall:!1},c=e.startAtIdle||!1,d=!e.startAtIdle||!0,l=n.extend({},o,e),u=null;return n(this).on("idle:stop",{},function(e){n(this).off(l.events),l.keepTracking=!1,t(u,l)}),t=function(n,e){return c&&(e.onActive.call(),c=!1),clearTimeout(n),e.keepTracking?i(e):void 0},i=function(n){var e,t=n.recurIdleCall?setInterval:setTimeout;return e=t(function(){c=!0,n.onIdle.call()},n.idle)},this.each(function(){u=i(l),n(this).on(l.events,function(n){u=t(u,l)}),(l.onShow||l.onHide)&&n(document).on("visibilitychange webkitvisibilitychange mozvisibilitychange msvisibilitychange",function(){document.hidden||document.webkitHidden||document.mozHidden||document.msHidden?d&&(d=!1,l.onHide.call()):d||(d=!0,l.onShow.call())})})}}(top.jQuery);
var ScrollSpeedMonitor=function(t){function n(n){e=n,top.window.addEventListener("scroll",function(n){n.preventDefault();var o=t(this).scrollTop();n.timeStamp=(new Date).getTime(),i(n.timeStamp,o)},!0),t(top.window).scroll(function(n){var o=t(this).scrollTop();n.timeStamp=(new Date).getTime(),i(n.timeStamp,o)}),t(top.window).on("touchstart",function(n){console.log(n.touches);var o=t(this).scrollTop();i(n.timeStamp,o)})}function i(t,n){if(a+r.thisMinimumTrackingDelayInMs<=t){var i=Math.abs(n-s),c=o(n),l=t-a,u=i/l;u>0&&e(u,t,c),a=t}}function o(t){var n=s;return s=t,n>-1?n>=t?"up":"down":"unknown"}var e,r=this,a=-1,s=-1;return this.thisMinimumTrackingDelayInMs=25,n}(top.jQuery);
!function(e){var i=18e4;e(document).idle({onIdle:function(){var i=e("#fade-scroll-wrapper");i.is(":visible")||(i.css("opacity",1),i.fadeIn(1500))},idle:i})}(top.jQuery);
var StarScroller=function(e,n,l){function i(n,i){d.jQueryElement=l(i),y=new ScrollSpeedMonitor(function(n,i,t){m!=t&&(d.jQueryElement.removeClass("up down").addClass(t),m=t);var s=d.jQueryElement.is(":visible");if(s&&c(),d.requiredSpeedInPxPerMs<=n){r(i);var u=i-p;p>-1&&u>d.requiredScrollTimeInMs&&(s||(a(),c(),d.jQueryElement.show(),l(e).scroll(function(){o(m)})))}else r(i,!0)})}function o(n){var l=(j-e.scrollY)/j,i=.02;l>=0&&d.jQueryElement.css("opacity")<1&&d.jQueryElement.css("opacity",Number(d.jQueryElement.css("opacity"))+i)}function t(){l("#fade-scroll-big").slideUp("slow",function(){l("#fade-scroll-sm").slideDown("slow"),d.jQueryElement.css("opacity",1)})}function s(){l("#fade-scroll-sm").slideUp("slow",function(){l("#fade-scroll-big").slideDown("slow"),d.jQueryElement.css("opacity",1)})}function c(){null!=v&&(e.clearTimeout(v),v=null),v=e.setTimeout(function(){f()},d.timeoutInMs)}function r(e,n){(-1==p||n)&&(p=e)}function u(){}function a(){null==w&&(w=e.setInterval(function(){u()},d.animationSpeedInMs))}function f(){p=-1}var d=this;l(n).on("click",".js-fade-scroll-click",function(n){n.preventDefault(),e.open(clickThru)}),l(n).on("click","div#fade-scroll-sm",function(e){e.preventDefault(),s()}),l(n).on("click","div#fade-scroll-close",function(e){t()});var m="unknown",p=-1,y=null,v=null,w=null,j=l(n).height();return this.animationSpeedInMs=50,this.animationStepInPx=10,this.requiredScrollTimeInMs=100,this.requiredSpeedInPxPerMs=2,this.timeoutInMs=125,i}(top.window,top.document,top.jQuery);